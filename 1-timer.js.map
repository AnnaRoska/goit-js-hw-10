{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = new Date();\nconst btnStart = document.querySelector(\".btn-start\");\nconst inpDateStart = document.querySelector(\".inp-date-start\");\nlet diffTime = 0;\nconst timerDays = document.querySelector('[data-days]')\nconst timerHours = document.querySelector('[data-hours]');\nconst timerMinutes = document.querySelector('[data-minutes]');\nconst timerSeconds = document.querySelector('[data-seconds]');\nbtnStart.setAttribute(\"disabled\", \"true\");\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      diffTime = selectedDates[0].getTime() - Date.now()\n      if (diffTime <= 0) {\n          iziToast.show({\n              color: 'red',\n              position: 'center',\n              message: 'Please choose a date in the future'\n            });\n\n          btnStart.setAttribute(\"disabled\", \"true\");\n          console.log(\"Минула дата\", diffTime);\n      } else {\n          btnStart.removeAttribute(\"disabled\");\n          userSelectedDate = selectedDates[0];\n          console.log(\"Майбутня дата\", diffTime);\n      }     \n    }\n};\nflatpickr(\"#datetime-picker\", options);\n\nbtnStart.addEventListener('click', () => {\n    diffTime = userSelectedDate.getTime() - Date.now()\n    btnStart.setAttribute(\"disabled\", \"true\");\n    inpDateStart.setAttribute(\"disabled\", \"true\");\n\n    const timerFace = () => {\n        diffTime = diffTime - 1000;\n        if (diffTime <= 1000) {\n            clearInterval(intervalId);\n            inpDateStart.removeAttribute(\"disabled\");\n        } \n        timerDays.textContent = String(convertMs(diffTime).days).padStart(2, \"0\");\n        timerHours.textContent = String(convertMs(diffTime).hours).padStart(2, \"0\");\n        timerMinutes.textContent = String(convertMs(diffTime).minutes).padStart(2, \"0\");\n        timerSeconds.textContent = String(convertMs(diffTime).seconds).padStart(2, \"0\");\n    }\n    const intervalId = setInterval(timerFace, 1000);\n        \n});\n\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}"],"names":["userSelectedDate","btnStart","inpDateStart","diffTime","timerDays","timerHours","timerMinutes","timerSeconds","options","selectedDates","iziToast","flatpickr","intervalId","convertMs","ms","days","hours","minutes","seconds"],"mappings":"+IAQA,IAAIA,EAAmB,IAAI,KAC3B,MAAMC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAe,SAAS,cAAc,iBAAiB,EAC7D,IAAIC,EAAW,EACf,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAC5DN,EAAS,aAAa,WAAY,MAAM,EACxC,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBN,EAAWM,EAAc,CAAC,EAAE,QAAS,EAAG,KAAK,IAAK,EAC9CN,GAAY,GACZO,EAAS,KAAK,CACV,MAAO,MACP,SAAU,SACV,QAAS,oCACvB,CAAa,EAEHT,EAAS,aAAa,WAAY,MAAM,EACxC,QAAQ,IAAI,cAAeE,CAAQ,IAEnCF,EAAS,gBAAgB,UAAU,EACnCD,EAAmBS,EAAc,CAAC,EAClC,QAAQ,IAAI,gBAAiBN,CAAQ,EAE1C,CACL,EACAQ,EAAU,mBAAoBH,CAAO,EAErCP,EAAS,iBAAiB,QAAS,IAAM,CACrCE,EAAWH,EAAiB,UAAY,KAAK,IAAK,EAClDC,EAAS,aAAa,WAAY,MAAM,EACxCC,EAAa,aAAa,WAAY,MAAM,EAa5C,MAAMU,EAAa,YAXD,IAAM,CACpBT,EAAWA,EAAW,IAClBA,GAAY,MACZ,cAAcS,CAAU,EACxBV,EAAa,gBAAgB,UAAU,GAE3CE,EAAU,YAAc,OAAOS,EAAUV,CAAQ,EAAE,IAAI,EAAE,SAAS,EAAG,GAAG,EACxEE,EAAW,YAAc,OAAOQ,EAAUV,CAAQ,EAAE,KAAK,EAAE,SAAS,EAAG,GAAG,EAC1EG,EAAa,YAAc,OAAOO,EAAUV,CAAQ,EAAE,OAAO,EAAE,SAAS,EAAG,GAAG,EAC9EI,EAAa,YAAc,OAAOM,EAAUV,CAAQ,EAAE,OAAO,EAAE,SAAS,EAAG,GAAG,CACjF,EACyC,GAAI,CAElD,CAAC,EAGD,SAASU,EAAUC,EAAI,CAOrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}